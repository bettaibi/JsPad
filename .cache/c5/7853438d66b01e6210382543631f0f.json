{"id":"phBT","dependencies":[{"name":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\package.json","includedInParent":true,"mtime":1609852920041},{"name":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\.babelrc","includedInParent":true,"mtime":1609011634790},{"name":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\package.json","includedInParent":true,"mtime":1609798091183},{"name":"../../utils/isSubset","loc":{"line":1,"column":21},"parent":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api\\actions\\delete.js","resolved":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\utils\\isSubset.js"},{"name":"../../utils/logger","loc":{"line":2,"column":19},"parent":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api\\actions\\delete.js","resolved":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\utils\\logger.js"},{"name":"../../api-utils/selectionLevel","loc":{"line":3,"column":27},"parent":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api\\actions\\delete.js","resolved":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api-utils\\selectionLevel.js"},{"name":"../../api-utils/success","loc":{"line":4,"column":20},"parent":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api\\actions\\delete.js","resolved":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api-utils\\success.js"},{"name":"../../api-utils/error","loc":{"line":5,"column":18},"parent":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api\\actions\\delete.js","resolved":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api-utils\\error.js"},{"name":"../../api-utils/showUserErrors","loc":{"line":6,"column":27},"parent":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api\\actions\\delete.js","resolved":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api-utils\\showUserErrors.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=s;var e=n(require(\"../../utils/isSubset\")),t=n(require(\"../../utils/logger\")),l=n(require(\"../../api-utils/selectionLevel\")),i=n(require(\"../../api-utils/success\")),o=n(require(\"../../api-utils/error\")),u=n(require(\"../../api-utils/showUserErrors\"));function n(e){return e&&e.__esModule?e:{default:e}}function s(){return new Promise((n,s)=>{if(this.deleteDatabase=(()=>{let e=this.dbName;indexedDB.deleteDatabase(e),n(i.default.call(this,`Database \"${e}\" deleted.`))}),this.deleteCollection=(()=>{let e=this.dbName,t=this.collectionName;this.addToDeleteCollectionQueue=(e=>{this.deleteCollectionQueue.queue.push(e),this.runDeleteCollectionQueue()}),this.runDeleteCollectionQueue=(()=>{0==this.deleteCollectionQueue.running&&(this.deleteCollectionQueue.running=!0,this.deleteNextCollectionFromQueue())}),this.deleteNextCollectionFromQueue=(()=>{if(this.deleteCollectionQueue.queue.length){let t=this.deleteCollectionQueue.queue[0];this.deleteCollectionQueue.queue.shift(),this.lf[t].dropInstance({name:e,storeName:t}).then(()=>{this.deleteNextCollectionFromQueue(),n(i.default.call(this,`Collection \"${t}\" deleted.`))}).catch(e=>{s(e.call(this,`Collection \"${t}\" could not be deleted.`))})}else this.deleteCollectionQueue.running=!1}),this.addToDeleteCollectionQueue(t)}),this.deleteDocument=(()=>{let l=this.collectionName,u=this.docSelectionCriteria;return this.deleteDocumentByCriteria=(()=>{let c=[];this.lf[l].iterate((t,l)=>{(0,e.default)(t,u)&&c.push(l)}).then(()=>{c.length||s(o.default.call(this,`No Documents found in \"${l}\" Collection with criteria ${JSON.stringify(u)}. No documents deleted.`)),c.length>1&&t.default.warn.call(this,`Multiple documents (${c.length}) with ${JSON.stringify(u)} found.`)}).then(()=>{c.forEach((e,t)=>{this.lf[l].removeItem(e).then(()=>{t===c.length-1&&n(i.default.call(this,`${c.length} Document${c.length>1?\"s\":\"\"} with ${JSON.stringify(u)} deleted.`))}).catch(e=>{s(o.default.call(this,`Could not delete ${c.length} Documents in ${l} Collection.`))})})})}),this.deleteDocumentByKey=(()=>{this.lf[l].getItem(u).then(e=>{e?this.lf[l].removeItem(u).then(()=>{n(i.default.call(this,`Document with key ${JSON.stringify(u)} deleted.`))}).catch(function(e){s(o.default.call(this,`No Document found in \"${l}\" Collection with key ${JSON.stringify(u)}. No document was deleted.`))}):s(o.default.call(this,`No Document found in \"${l}\" Collection with key ${JSON.stringify(u)}. No document was deleted.`))})}),\"object\"==typeof u?this.deleteDocumentByCriteria():this.deleteDocumentByKey()}),this.userErrors.length)u.default.call(this);else{let e=l.default.call(this);if(\"db\"==e)return this.deleteDatabase();if(\"collection\"==e)return this.deleteCollection();if(\"doc\"==e)return this.deleteDocument()}})}"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":0}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":13}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":20}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":35}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":43}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":56}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":57}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":64}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":68}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":76}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":84}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":1,"column":0},"generated":{"line":1,"column":102}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":2,"column":0},"generated":{"line":1,"column":127}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":2,"column":0},"generated":{"line":1,"column":129}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":2,"column":0},"generated":{"line":1,"column":131}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":2,"column":0},"generated":{"line":1,"column":139}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":3,"column":0},"generated":{"line":1,"column":162}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":3,"column":0},"generated":{"line":1,"column":164}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":3,"column":0},"generated":{"line":1,"column":166}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":3,"column":0},"generated":{"line":1,"column":174}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":4,"column":0},"generated":{"line":1,"column":209}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":4,"column":0},"generated":{"line":1,"column":211}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":4,"column":0},"generated":{"line":1,"column":213}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":4,"column":0},"generated":{"line":1,"column":221}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":5,"column":0},"generated":{"line":1,"column":249}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":5,"column":0},"generated":{"line":1,"column":251}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":5,"column":0},"generated":{"line":1,"column":253}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":5,"column":0},"generated":{"line":1,"column":261}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":6,"column":0},"generated":{"line":1,"column":287}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":6,"column":0},"generated":{"line":1,"column":289}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":6,"column":0},"generated":{"line":1,"column":291}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":6,"column":0},"generated":{"line":1,"column":299}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":334}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":343}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":345}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":348}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":355}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":358}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":360}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":371}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":373}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":374}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":184,"column":1},"generated":{"line":1,"column":382}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":8,"column":15},"generated":{"line":1,"column":385}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteIt","original":{"line":8,"column":24},"generated":{"line":1,"column":394}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":10,"column":9},"generated":{"line":1,"column":398}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":10,"column":9},"generated":{"line":1,"column":405}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"Promise","original":{"line":10,"column":13},"generated":{"line":1,"column":409}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":10,"column":21},"generated":{"line":1,"column":417}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"resolve","original":{"line":10,"column":22},"generated":{"line":1,"column":418}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"reject","original":{"line":10,"column":31},"generated":{"line":1,"column":420}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":165,"column":8},"generated":{"line":1,"column":425}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteDatabase","original":{"line":13,"column":9},"generated":{"line":1,"column":428}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteDatabase","original":{"line":13,"column":9},"generated":{"line":1,"column":433}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":13,"column":26},"generated":{"line":1,"column":448}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"dbName","original":{"line":14,"column":10},"generated":{"line":1,"column":454}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"dbName","original":{"line":14,"column":10},"generated":{"line":1,"column":458}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":14,"column":19},"generated":{"line":1,"column":460}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"dbName","original":{"line":14,"column":24},"generated":{"line":1,"column":465}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"indexedDB","original":{"line":16,"column":6},"generated":{"line":1,"column":472}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteDatabase","original":{"line":16,"column":16},"generated":{"line":1,"column":482}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"dbName","original":{"line":16,"column":31},"generated":{"line":1,"column":497}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"resolve","original":{"line":17,"column":6},"generated":{"line":1,"column":500}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"success","original":{"line":18,"column":8},"generated":{"line":1,"column":502}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":18,"column":16},"generated":{"line":1,"column":504}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":18,"column":16},"generated":{"line":1,"column":512}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":19,"column":10},"generated":{"line":1,"column":517}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"dbName","original":{"line":20,"column":24},"generated":{"line":1,"column":535}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollection","original":{"line":26,"column":9},"generated":{"line":1,"column":553}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollection","original":{"line":26,"column":9},"generated":{"line":1,"column":558}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":26,"column":28},"generated":{"line":1,"column":575}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"dbName","original":{"line":27,"column":10},"generated":{"line":1,"column":581}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"dbName","original":{"line":27,"column":10},"generated":{"line":1,"column":585}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":27,"column":19},"generated":{"line":1,"column":587}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"dbName","original":{"line":27,"column":24},"generated":{"line":1,"column":592}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":28,"column":10},"generated":{"line":1,"column":599}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":28,"column":27},"generated":{"line":1,"column":601}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":28,"column":32},"generated":{"line":1,"column":606}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"addToDeleteCollectionQueue","original":{"line":32,"column":11},"generated":{"line":1,"column":621}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"addToDeleteCollectionQueue","original":{"line":32,"column":11},"generated":{"line":1,"column":626}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":32,"column":41},"generated":{"line":1,"column":653}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":32,"column":41},"generated":{"line":1,"column":654}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollectionQueue","original":{"line":33,"column":13},"generated":{"line":1,"column":658}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollectionQueue","original":{"line":33,"column":13},"generated":{"line":1,"column":663}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"queue","original":{"line":33,"column":35},"generated":{"line":1,"column":685}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"push","original":{"line":33,"column":41},"generated":{"line":1,"column":691}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":33,"column":46},"generated":{"line":1,"column":696}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"runDeleteCollectionQueue","original":{"line":34,"column":13},"generated":{"line":1,"column":699}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"runDeleteCollectionQueue","original":{"line":34,"column":13},"generated":{"line":1,"column":704}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"runDeleteCollectionQueue","original":{"line":37,"column":11},"generated":{"line":1,"column":733}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"runDeleteCollectionQueue","original":{"line":37,"column":11},"generated":{"line":1,"column":738}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":37,"column":38},"generated":{"line":1,"column":763}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":38,"column":50},"generated":{"line":1,"column":769}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":38,"column":12},"generated":{"line":1,"column":772}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollectionQueue","original":{"line":38,"column":17},"generated":{"line":1,"column":777}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"running","original":{"line":38,"column":39},"generated":{"line":1,"column":799}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollectionQueue","original":{"line":39,"column":15},"generated":{"line":1,"column":809}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollectionQueue","original":{"line":39,"column":15},"generated":{"line":1,"column":814}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"running","original":{"line":39,"column":37},"generated":{"line":1,"column":836}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":39,"column":47},"generated":{"line":1,"column":845}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteNextCollectionFromQueue","original":{"line":40,"column":15},"generated":{"line":1,"column":847}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteNextCollectionFromQueue","original":{"line":40,"column":15},"generated":{"line":1,"column":852}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteNextCollectionFromQueue","original":{"line":44,"column":11},"generated":{"line":1,"column":887}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteNextCollectionFromQueue","original":{"line":44,"column":11},"generated":{"line":1,"column":892}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":44,"column":43},"generated":{"line":1,"column":922}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":45,"column":12},"generated":{"line":1,"column":928}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":45,"column":12},"generated":{"line":1,"column":931}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollectionQueue","original":{"line":45,"column":17},"generated":{"line":1,"column":936}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"queue","original":{"line":45,"column":39},"generated":{"line":1,"column":958}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"length","original":{"line":45,"column":45},"generated":{"line":1,"column":964}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":45,"column":53},"generated":{"line":1,"column":971}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionToDelete","original":{"line":46,"column":14},"generated":{"line":1,"column":972}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionToDelete","original":{"line":46,"column":14},"generated":{"line":1,"column":976}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":46,"column":35},"generated":{"line":1,"column":978}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollectionQueue","original":{"line":46,"column":40},"generated":{"line":1,"column":983}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"queue","original":{"line":46,"column":62},"generated":{"line":1,"column":1005}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":46,"column":68},"generated":{"line":1,"column":1011}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollectionQueue","original":{"line":47,"column":15},"generated":{"line":1,"column":1014}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollectionQueue","original":{"line":47,"column":15},"generated":{"line":1,"column":1019}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"queue","original":{"line":47,"column":37},"generated":{"line":1,"column":1041}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"shift","original":{"line":47,"column":43},"generated":{"line":1,"column":1047}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"lf","original":{"line":49,"column":15},"generated":{"line":1,"column":1055}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"lf","original":{"line":49,"column":15},"generated":{"line":1,"column":1060}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionToDelete","original":{"line":49,"column":18},"generated":{"line":1,"column":1063}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"dropInstance","original":{"line":49,"column":38},"generated":{"line":1,"column":1066}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":49,"column":51},"generated":{"line":1,"column":1079}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"name","original":{"line":50,"column":12},"generated":{"line":1,"column":1080}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"dbName","original":{"line":50,"column":26},"generated":{"line":1,"column":1085}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"storeName","original":{"line":51,"column":12},"generated":{"line":1,"column":1087}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionToDelete","original":{"line":51,"column":26},"generated":{"line":1,"column":1097}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"then","original":{"line":52,"column":13},"generated":{"line":1,"column":1101}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":52,"column":18},"generated":{"line":1,"column":1106}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteNextCollectionFromQueue","original":{"line":53,"column":17},"generated":{"line":1,"column":1111}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteNextCollectionFromQueue","original":{"line":53,"column":17},"generated":{"line":1,"column":1116}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"resolve","original":{"line":54,"column":12},"generated":{"line":1,"column":1148}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"success","original":{"line":55,"column":14},"generated":{"line":1,"column":1150}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":55,"column":22},"generated":{"line":1,"column":1152}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":55,"column":22},"generated":{"line":1,"column":1160}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":56,"column":16},"generated":{"line":1,"column":1165}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionToDelete","original":{"line":57,"column":32},"generated":{"line":1,"column":1185}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"catch","original":{"line":60,"column":13},"generated":{"line":1,"column":1203}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"error","original":{"line":60,"column":19},"generated":{"line":1,"column":1209}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"reject","original":{"line":61,"column":12},"generated":{"line":1,"column":1213}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"error","original":{"line":62,"column":14},"generated":{"line":1,"column":1215}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":62,"column":20},"generated":{"line":1,"column":1217}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":63,"column":16},"generated":{"line":1,"column":1222}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionToDelete","original":{"line":64,"column":32},"generated":{"line":1,"column":1242}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollectionQueue","original":{"line":70,"column":15},"generated":{"line":1,"column":1278}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollectionQueue","original":{"line":70,"column":15},"generated":{"line":1,"column":1283}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"running","original":{"line":70,"column":37},"generated":{"line":1,"column":1305}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":70,"column":47},"generated":{"line":1,"column":1314}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"addToDeleteCollectionQueue","original":{"line":74,"column":11},"generated":{"line":1,"column":1318}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"addToDeleteCollectionQueue","original":{"line":74,"column":11},"generated":{"line":1,"column":1323}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":74,"column":38},"generated":{"line":1,"column":1350}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteDocument","original":{"line":78,"column":9},"generated":{"line":1,"column":1355}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteDocument","original":{"line":78,"column":9},"generated":{"line":1,"column":1360}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":78,"column":26},"generated":{"line":1,"column":1375}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":80,"column":10},"generated":{"line":1,"column":1381}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":80,"column":10},"generated":{"line":1,"column":1385}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":80,"column":27},"generated":{"line":1,"column":1387}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":80,"column":32},"generated":{"line":1,"column":1392}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"docSelectionCriteria","original":{"line":81,"column":10},"generated":{"line":1,"column":1407}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":81,"column":33},"generated":{"line":1,"column":1409}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"docSelectionCriteria","original":{"line":81,"column":38},"generated":{"line":1,"column":1414}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":157,"column":10},"generated":{"line":1,"column":1435}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteDocumentByCriteria","original":{"line":84,"column":11},"generated":{"line":1,"column":1442}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteDocumentByCriteria","original":{"line":84,"column":11},"generated":{"line":1,"column":1447}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":84,"column":38},"generated":{"line":1,"column":1472}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"keysForDeletion","original":{"line":85,"column":12},"generated":{"line":1,"column":1478}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"keysForDeletion","original":{"line":85,"column":12},"generated":{"line":1,"column":1482}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":85,"column":30},"generated":{"line":1,"column":1484}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"lf","original":{"line":86,"column":13},"generated":{"line":1,"column":1487}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"lf","original":{"line":86,"column":13},"generated":{"line":1,"column":1492}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":86,"column":16},"generated":{"line":1,"column":1495}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"iterate","original":{"line":86,"column":32},"generated":{"line":1,"column":1498}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":86,"column":40},"generated":{"line":1,"column":1506}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"value","original":{"line":86,"column":41},"generated":{"line":1,"column":1507}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"key","original":{"line":86,"column":48},"generated":{"line":1,"column":1509}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":87,"column":14},"generated":{"line":1,"column":1515}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"value","original":{"line":87,"column":23},"generated":{"line":1,"column":1517}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"value","original":{"line":87,"column":23},"generated":{"line":1,"column":1519}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"value","original":{"line":87,"column":23},"generated":{"line":1,"column":1528}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"docSelectionCriteria","original":{"line":87,"column":30},"generated":{"line":1,"column":1530}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"keysForDeletion","original":{"line":88,"column":12},"generated":{"line":1,"column":1534}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"push","original":{"line":88,"column":28},"generated":{"line":1,"column":1536}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"key","original":{"line":88,"column":33},"generated":{"line":1,"column":1541}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"then","original":{"line":90,"column":11},"generated":{"line":1,"column":1546}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":90,"column":16},"generated":{"line":1,"column":1551}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"keysForDeletion","original":{"line":91,"column":15},"generated":{"line":1,"column":1556}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"length","original":{"line":91,"column":31},"generated":{"line":1,"column":1558}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"reject","original":{"line":92,"column":12},"generated":{"line":1,"column":1566}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"error","original":{"line":93,"column":14},"generated":{"line":1,"column":1568}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":93,"column":20},"generated":{"line":1,"column":1570}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":93,"column":20},"generated":{"line":1,"column":1578}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":94,"column":16},"generated":{"line":1,"column":1583}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":95,"column":43},"generated":{"line":1,"column":1614}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"JSON","original":{"line":95,"column":89},"generated":{"line":1,"column":1645}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"stringify","original":{"line":95,"column":94},"generated":{"line":1,"column":1650}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"docSelectionCriteria","original":{"line":95,"column":104},"generated":{"line":1,"column":1660}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"keysForDeletion","original":{"line":99,"column":14},"generated":{"line":1,"column":1690}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"length","original":{"line":99,"column":30},"generated":{"line":1,"column":1692}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":99,"column":39},"generated":{"line":1,"column":1699}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"warn","original":{"line":100,"column":19},"generated":{"line":1,"column":1702}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"warn","original":{"line":100,"column":19},"generated":{"line":1,"column":1704}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"warn","original":{"line":100,"column":19},"generated":{"line":1,"column":1712}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":100,"column":24},"generated":{"line":1,"column":1717}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":100,"column":29},"generated":{"line":1,"column":1722}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"keysForDeletion","original":{"line":100,"column":59},"generated":{"line":1,"column":1750}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"length","original":{"line":100,"column":75},"generated":{"line":1,"column":1752}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"JSON","original":{"line":100,"column":93},"generated":{"line":1,"column":1768}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"stringify","original":{"line":100,"column":98},"generated":{"line":1,"column":1773}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"docSelectionCriteria","original":{"line":100,"column":108},"generated":{"line":1,"column":1783}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"then","original":{"line":102,"column":11},"generated":{"line":1,"column":1798}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":102,"column":16},"generated":{"line":1,"column":1803}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"keysForDeletion","original":{"line":103,"column":10},"generated":{"line":1,"column":1808}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"forEach","original":{"line":103,"column":26},"generated":{"line":1,"column":1810}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":103,"column":34},"generated":{"line":1,"column":1818}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"key","original":{"line":103,"column":35},"generated":{"line":1,"column":1819}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"index","original":{"line":103,"column":40},"generated":{"line":1,"column":1821}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"lf","original":{"line":104,"column":17},"generated":{"line":1,"column":1826}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"lf","original":{"line":104,"column":17},"generated":{"line":1,"column":1831}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":104,"column":20},"generated":{"line":1,"column":1834}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"removeItem","original":{"line":104,"column":36},"generated":{"line":1,"column":1837}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"key","original":{"line":104,"column":47},"generated":{"line":1,"column":1848}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"then","original":{"line":104,"column":52},"generated":{"line":1,"column":1851}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":104,"column":57},"generated":{"line":1,"column":1856}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"index","original":{"line":105,"column":18},"generated":{"line":1,"column":1861}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"keysForDeletion","original":{"line":105,"column":29},"generated":{"line":1,"column":1865}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"length","original":{"line":105,"column":45},"generated":{"line":1,"column":1867}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":105,"column":54},"generated":{"line":1,"column":1874}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"resolve","original":{"line":106,"column":16},"generated":{"line":1,"column":1877}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"success","original":{"line":107,"column":18},"generated":{"line":1,"column":1879}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":107,"column":26},"generated":{"line":1,"column":1881}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":107,"column":26},"generated":{"line":1,"column":1889}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":108,"column":20},"generated":{"line":1,"column":1894}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"keysForDeletion","original":{"line":109,"column":24},"generated":{"line":1,"column":1902}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"length","original":{"line":109,"column":40},"generated":{"line":1,"column":1904}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"keysForDeletion","original":{"line":109,"column":60},"generated":{"line":1,"column":1922}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"length","original":{"line":109,"column":76},"generated":{"line":1,"column":1924}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":109,"column":85},"generated":{"line":1,"column":1931}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":109,"column":89},"generated":{"line":1,"column":1933}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":109,"column":95},"generated":{"line":1,"column":1937}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"JSON","original":{"line":109,"column":108},"generated":{"line":1,"column":1948}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"stringify","original":{"line":109,"column":113},"generated":{"line":1,"column":1953}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"docSelectionCriteria","original":{"line":109,"column":123},"generated":{"line":1,"column":1963}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"catch","original":{"line":113,"column":15},"generated":{"line":1,"column":1981}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"err","original":{"line":113,"column":21},"generated":{"line":1,"column":1987}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"reject","original":{"line":114,"column":14},"generated":{"line":1,"column":1991}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"error","original":{"line":115,"column":16},"generated":{"line":1,"column":1993}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":115,"column":22},"generated":{"line":1,"column":1995}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":115,"column":22},"generated":{"line":1,"column":2003}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":116,"column":18},"generated":{"line":1,"column":2008}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"keysForDeletion","original":{"line":117,"column":39},"generated":{"line":1,"column":2033}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"length","original":{"line":117,"column":55},"generated":{"line":1,"column":2035}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":117,"column":80},"generated":{"line":1,"column":2058}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteDocumentByKey","original":{"line":126,"column":11},"generated":{"line":1,"column":2084}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteDocumentByKey","original":{"line":126,"column":11},"generated":{"line":1,"column":2089}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":126,"column":33},"generated":{"line":1,"column":2109}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"lf","original":{"line":127,"column":13},"generated":{"line":1,"column":2115}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"lf","original":{"line":127,"column":13},"generated":{"line":1,"column":2120}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":127,"column":16},"generated":{"line":1,"column":2123}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"getItem","original":{"line":127,"column":32},"generated":{"line":1,"column":2126}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"docSelectionCriteria","original":{"line":127,"column":40},"generated":{"line":1,"column":2134}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"then","original":{"line":127,"column":62},"generated":{"line":1,"column":2137}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"value","original":{"line":127,"column":67},"generated":{"line":1,"column":2142}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"value","original":{"line":128,"column":14},"generated":{"line":1,"column":2146}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"lf","original":{"line":129,"column":17},"generated":{"line":1,"column":2148}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"lf","original":{"line":129,"column":17},"generated":{"line":1,"column":2153}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":129,"column":20},"generated":{"line":1,"column":2156}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"removeItem","original":{"line":129,"column":36},"generated":{"line":1,"column":2159}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"docSelectionCriteria","original":{"line":129,"column":47},"generated":{"line":1,"column":2170}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"then","original":{"line":129,"column":69},"generated":{"line":1,"column":2173}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":129,"column":74},"generated":{"line":1,"column":2178}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"resolve","original":{"line":130,"column":14},"generated":{"line":1,"column":2183}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"success","original":{"line":131,"column":16},"generated":{"line":1,"column":2185}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":131,"column":24},"generated":{"line":1,"column":2187}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":131,"column":24},"generated":{"line":1,"column":2195}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":132,"column":18},"generated":{"line":1,"column":2200}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"JSON","original":{"line":133,"column":40},"generated":{"line":1,"column":2226}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"stringify","original":{"line":133,"column":45},"generated":{"line":1,"column":2231}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"docSelectionCriteria","original":{"line":133,"column":55},"generated":{"line":1,"column":2241}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"catch","original":{"line":136,"column":15},"generated":{"line":1,"column":2259}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":136,"column":21},"generated":{"line":1,"column":2265}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"err","original":{"line":136,"column":30},"generated":{"line":1,"column":2274}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"reject","original":{"line":137,"column":14},"generated":{"line":1,"column":2277}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"error","original":{"line":138,"column":16},"generated":{"line":1,"column":2279}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":138,"column":22},"generated":{"line":1,"column":2281}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":138,"column":22},"generated":{"line":1,"column":2289}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":139,"column":18},"generated":{"line":1,"column":2294}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":140,"column":44},"generated":{"line":1,"column":2324}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"JSON","original":{"line":140,"column":85},"generated":{"line":1,"column":2350}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"stringify","original":{"line":140,"column":90},"generated":{"line":1,"column":2355}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"docSelectionCriteria","original":{"line":140,"column":100},"generated":{"line":1,"column":2365}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"reject","original":{"line":146,"column":12},"generated":{"line":1,"column":2400}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"error","original":{"line":147,"column":14},"generated":{"line":1,"column":2402}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":147,"column":20},"generated":{"line":1,"column":2404}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":147,"column":20},"generated":{"line":1,"column":2412}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":148,"column":16},"generated":{"line":1,"column":2417}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"collectionName","original":{"line":149,"column":42},"generated":{"line":1,"column":2447}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"JSON","original":{"line":149,"column":83},"generated":{"line":1,"column":2473}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"stringify","original":{"line":149,"column":88},"generated":{"line":1,"column":2478}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"docSelectionCriteria","original":{"line":149,"column":98},"generated":{"line":1,"column":2488}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":157,"column":41},"generated":{"line":1,"column":2525}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"docSelectionCriteria","original":{"line":157,"column":17},"generated":{"line":1,"column":2542}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":158,"column":15},"generated":{"line":1,"column":2544}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteDocumentByCriteria","original":{"line":158,"column":20},"generated":{"line":1,"column":2549}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":161,"column":15},"generated":{"line":1,"column":2576}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteDocumentByKey","original":{"line":161,"column":20},"generated":{"line":1,"column":2581}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":165,"column":9},"generated":{"line":1,"column":2605}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"userErrors","original":{"line":165,"column":14},"generated":{"line":1,"column":2610}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"length","original":{"line":165,"column":25},"generated":{"line":1,"column":2621}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":179,"column":21},"generated":{"line":1,"column":2628}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":179,"column":21},"generated":{"line":1,"column":2630}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":179,"column":21},"generated":{"line":1,"column":2638}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":179,"column":26},"generated":{"line":1,"column":2643}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":165,"column":33},"generated":{"line":1,"column":2653}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"currentSelectionLevel","original":{"line":166,"column":10},"generated":{"line":1,"column":2654}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"currentSelectionLevel","original":{"line":166,"column":10},"generated":{"line":1,"column":2658}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"selectionLevel","original":{"line":166,"column":34},"generated":{"line":1,"column":2660}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":166,"column":49},"generated":{"line":1,"column":2662}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"call","original":{"line":166,"column":49},"generated":{"line":1,"column":2670}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":166,"column":54},"generated":{"line":1,"column":2675}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"currentSelectionLevel","original":{"line":168,"column":10},"generated":{"line":1,"column":2681}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":168,"column":35},"generated":{"line":1,"column":2684}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"currentSelectionLevel","original":{"line":168,"column":10},"generated":{"line":1,"column":2690}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":169,"column":15},"generated":{"line":1,"column":2692}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":169,"column":15},"generated":{"line":1,"column":2699}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteDatabase","original":{"line":169,"column":20},"generated":{"line":1,"column":2704}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":171,"column":11},"generated":{"line":1,"column":2721}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":171,"column":40},"generated":{"line":1,"column":2724}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"currentSelectionLevel","original":{"line":171,"column":15},"generated":{"line":1,"column":2738}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":172,"column":15},"generated":{"line":1,"column":2740}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":172,"column":15},"generated":{"line":1,"column":2747}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteCollection","original":{"line":172,"column":20},"generated":{"line":1,"column":2752}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":174,"column":11},"generated":{"line":1,"column":2771}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":174,"column":40},"generated":{"line":1,"column":2774}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"currentSelectionLevel","original":{"line":174,"column":15},"generated":{"line":1,"column":2781}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":175,"column":15},"generated":{"line":1,"column":2783}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","original":{"line":175,"column":15},"generated":{"line":1,"column":2790}},{"source":"../node_modules/localbase/localbase/api/actions/delete.js","name":"deleteDocument","original":{"line":175,"column":20},"generated":{"line":1,"column":2795}}],"sources":{"../node_modules/localbase/localbase/api/actions/delete.js":"import isSubset from '../../utils/isSubset'\nimport logger from \"../../utils/logger\"\nimport selectionLevel from '../../api-utils/selectionLevel'\nimport success from '../../api-utils/success'\nimport error from '../../api-utils/error'\nimport showUserErrors from '../../api-utils/showUserErrors'\n\nexport default function deleteIt() {\n\n  return new Promise((resolve, reject) => {\n\n    // delete database\n    this.deleteDatabase = () => {\n      let dbName = this.dbName\n\n      indexedDB.deleteDatabase(dbName)\n      resolve(\n        success.call(\n          this,\n          `Database \"${ dbName }\" deleted.`\n        )\n      )\n    }\n\n    // delete collection\n    this.deleteCollection = () => {\n      let dbName = this.dbName\n      let collectionName = this.collectionName\n\n      // we can only delete one collection at a time, which is why we need a queue\n\n      this.addToDeleteCollectionQueue = (collectionName) => {\n        this.deleteCollectionQueue.queue.push(collectionName)\n        this.runDeleteCollectionQueue()\n      }\n\n      this.runDeleteCollectionQueue = () => {\n        if (this.deleteCollectionQueue.running == false) {\n          this.deleteCollectionQueue.running = true\n          this.deleteNextCollectionFromQueue()\n        }\n      }\n\n      this.deleteNextCollectionFromQueue = () => {\n        if (this.deleteCollectionQueue.queue.length) {\n          let collectionToDelete = this.deleteCollectionQueue.queue[0]\n          this.deleteCollectionQueue.queue.shift()\n\n          this.lf[collectionToDelete].dropInstance({\n            name        : dbName,\n            storeName   : collectionToDelete\n          }).then(() => {\n            this.deleteNextCollectionFromQueue()\n            resolve(\n              success.call(\n                this,\n                `Collection \"${ collectionToDelete }\" deleted.`\n              )\n            )\n          }).catch(error => {\n            reject(\n              error.call(\n                this,\n                `Collection \"${ collectionToDelete }\" could not be deleted.`\n              )\n            )\n          })\n        }\n        else {\n          this.deleteCollectionQueue.running = false\n        }\n      }\n\n      this.addToDeleteCollectionQueue(collectionName)\n    }\n\n    // delete document\n    this.deleteDocument = () => {\n\n      let collectionName = this.collectionName\n      let docSelectionCriteria = this.docSelectionCriteria\n\n      // delete document by criteria\n      this.deleteDocumentByCriteria = () => {\n        let keysForDeletion = []\n        this.lf[collectionName].iterate((value, key) => {\n          if (isSubset(value, docSelectionCriteria)) {\n            keysForDeletion.push(key)\n          }\n        }).then(() => {\n          if (!keysForDeletion.length) {\n            reject(\n              error.call(\n                this,\n                `No Documents found in \"${ collectionName }\" Collection with criteria ${ JSON.stringify(docSelectionCriteria) }. No documents deleted.`\n              )\n            )\n          }\n          if (keysForDeletion.length > 1) {\n            logger.warn.call(this, `Multiple documents (${ keysForDeletion.length }) with ${ JSON.stringify(docSelectionCriteria) } found.`)\n          }\n        }).then(() => {\n          keysForDeletion.forEach((key, index) => {\n            this.lf[collectionName].removeItem(key).then(() => {\n              if (index === (keysForDeletion.length - 1)) {\n                resolve(\n                  success.call(\n                    this,\n                    `${ keysForDeletion.length } Document${ keysForDeletion.length > 1 ? 's' : '' } with ${ JSON.stringify(docSelectionCriteria) } deleted.`\n                  )\n                )\n              }\n            }).catch(err => {\n              reject(\n                error.call(\n                  this,\n                  `Could not delete ${ keysForDeletion.length } Documents in ${ collectionName } Collection.`\n                )\n              )\n            })\n          })\n        })\n      }\n\n      // delete document by key\n      this.deleteDocumentByKey = () => {\n        this.lf[collectionName].getItem(docSelectionCriteria).then(value => {\n          if (value) {\n            this.lf[collectionName].removeItem(docSelectionCriteria).then(() => {\n              resolve(\n                success.call(\n                  this,\n                  `Document with key ${ JSON.stringify(docSelectionCriteria) } deleted.`\n                )\n              )\n            }).catch(function(err) {\n              reject(\n                error.call(\n                  this,\n                  `No Document found in \"${ collectionName }\" Collection with key ${ JSON.stringify(docSelectionCriteria) }. No document was deleted.`\n                )\n              )\n            });\n          }\n          else {\n            reject(\n              error.call(\n                this,\n                `No Document found in \"${ collectionName }\" Collection with key ${ JSON.stringify(docSelectionCriteria) }. No document was deleted.`\n              )\n            )\n          }\n        });\n\n      }\n\n      if (typeof docSelectionCriteria == 'object') {\n        return this.deleteDocumentByCriteria()\n      }\n      else {\n        return this.deleteDocumentByKey()\n      }\n    }\n    \n    if (!this.userErrors.length) {\n      let currentSelectionLevel = selectionLevel.call(this)\n  \n      if (currentSelectionLevel == 'db') {\n        return this.deleteDatabase()\n      }\n      else if (currentSelectionLevel == 'collection') {\n        return this.deleteCollection()\n      }\n      else if (currentSelectionLevel == 'doc') {\n        return this.deleteDocument()\n      }\n    }\n    else {\n      showUserErrors.call(this)\n    }\n\n  })\n\n}"},"lineCount":null}},"error":null,"hash":"fbfca70755bdcd0f4c58c8766a327f7d","cacheData":{"env":{}}}