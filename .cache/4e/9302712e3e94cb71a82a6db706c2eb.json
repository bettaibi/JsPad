{"id":"cLQh","dependencies":[{"name":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\package.json","includedInParent":true,"mtime":1609852920041},{"name":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\.babelrc","includedInParent":true,"mtime":1609011634790},{"name":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\package.json","includedInParent":true,"mtime":1609798091183},{"name":"../../utils/logger","loc":{"line":1,"column":19},"parent":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api\\actions\\set.js","resolved":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\utils\\logger.js"},{"name":"../../utils/isSubset","loc":{"line":2,"column":21},"parent":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api\\actions\\set.js","resolved":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\utils\\isSubset.js"},{"name":"../../api-utils/success","loc":{"line":3,"column":20},"parent":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api\\actions\\set.js","resolved":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api-utils\\success.js"},{"name":"../../api-utils/error","loc":{"line":4,"column":18},"parent":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api\\actions\\set.js","resolved":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api-utils\\error.js"},{"name":"../../api-utils/showUserErrors","loc":{"line":5,"column":27},"parent":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api\\actions\\set.js","resolved":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api-utils\\showUserErrors.js"},{"name":"../../api-utils/selectionLevel","loc":{"line":6,"column":27},"parent":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api\\actions\\set.js","resolved":"D:\\learninig\\Templates\\Javascript_templates (without framework)\\JS-Pad\\node_modules\\localbase\\localbase\\api-utils\\selectionLevel.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=r;var t=n(require(\"../../utils/logger\")),e=n(require(\"../../utils/isSubset\")),s=n(require(\"../../api-utils/success\")),i=n(require(\"../../api-utils/error\")),o=n(require(\"../../api-utils/showUserErrors\")),l=n(require(\"../../api-utils/selectionLevel\"));function n(t){return t&&t.__esModule?t:{default:t}}function r(n,r={keys:!1}){let c=this.collectionName,a=this.docSelectionCriteria,u=l.default.call(this);return new Promise((l,h)=>{if(this.setCollection=(()=>{this.lf[c].clear().then(()=>{if(r.keys){console.log(\"keys provided\");let t=0;n.forEach(e=>{e.hasOwnProperty(\"_key\")||t++}),t?h(i.default.call(this,\"Documents provided to .set() in an array must each have a _key property set to a string.\")):(n.forEach(t=>{let e=t._key;delete t._key,this.add(t,e)}),l(s.default.call(this,`Collection \"${c}\" set with ${n.length} Documents`,n)))}else n.forEach(t=>{this.add(t)}),l(s.default.call(this,`Collection \"${c}\" set with ${n.length} Documents`,n))}).catch(t=>{h(i.default.call(this,`Could not set ${c} Collection with data ${JSON.stringify(n)}.`))})}),this.setDocument=(()=>(this.setDocumentByCriteria=(()=>{let o=[];this.lf[c].iterate((t,s)=>{(0,e.default)(t,a)&&o.push({key:s,newDocument:n})}).then(()=>{o.length||h(i.default.call(this,`No Documents found in ${c} Collection with criteria ${JSON.stringify(a)}.`)),o.length>1&&t.default.warn.call(this,`Multiple documents (${o.length}) with ${JSON.stringify(a)} found for setting.`)}).then(()=>{o.forEach((t,e)=>{this.lf[c].setItem(t.key,t.newDocument).then(t=>{e===o.length-1&&l(s.default.call(this,`${o.length} Document${o.length>1?\"s\":\"\"} in \"${c}\" collection with ${JSON.stringify(a)} set to:`,n))}).catch(t=>{h(i.default.call(this,`Could not set ${o.length} Documents in ${c} Collection.`))})})})}),this.setDocumentByKey=(()=>{this.lf[c].setItem(a,n).then(t=>{l(s.default.call(this,`Document in \"${c}\" collection with key ${JSON.stringify(a)} set to:`,n))}).catch(t=>{h(i.default.call(this,`Document in \"${c}\" collection with key ${JSON.stringify(a)} could not be set.`))})}),\"object\"==typeof a?this.setDocumentByCriteria():this.setDocumentByKey())),n?\"doc\"===u?\"object\"==typeof n&&n instanceof Array==0||this.userErrors.push(\"Data passed to .set() must be an object. Not an array, string, number or boolean.\"):\"collection\"===u&&(\"object\"==typeof n&&n instanceof Array==1||this.userErrors.push(\"Data passed to .set() must be an array of objects. Not an object, string, number or boolean.\")):this.userErrors.push('No new Document object provided to set() method. Use an object e.g. { id: 1, name: \"Bill\", age: 47 }'),this.userErrors.length)o.default.call(this);else{if(\"collection\"==u)return this.setCollection();if(\"doc\"==u)return this.setDocument()}})}"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":0}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":13}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":20}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":35}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":43}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":56}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":57}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":64}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":68}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":76}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":84}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":1,"column":0},"generated":{"line":1,"column":102}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":2,"column":0},"generated":{"line":1,"column":127}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":2,"column":0},"generated":{"line":1,"column":129}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":2,"column":0},"generated":{"line":1,"column":137}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":3,"column":0},"generated":{"line":1,"column":162}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":3,"column":0},"generated":{"line":1,"column":164}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":3,"column":0},"generated":{"line":1,"column":166}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":3,"column":0},"generated":{"line":1,"column":174}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":4,"column":0},"generated":{"line":1,"column":202}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":4,"column":0},"generated":{"line":1,"column":204}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":4,"column":0},"generated":{"line":1,"column":206}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":4,"column":0},"generated":{"line":1,"column":214}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":5,"column":0},"generated":{"line":1,"column":240}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":5,"column":0},"generated":{"line":1,"column":242}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":5,"column":0},"generated":{"line":1,"column":244}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":5,"column":0},"generated":{"line":1,"column":252}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":6,"column":0},"generated":{"line":1,"column":287}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":6,"column":0},"generated":{"line":1,"column":289}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":6,"column":0},"generated":{"line":1,"column":291}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":6,"column":0},"generated":{"line":1,"column":299}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":334}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":343}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":345}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":348}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":355}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":358}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":360}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":371}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":373}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":374}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":176,"column":1},"generated":{"line":1,"column":382}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":8,"column":15},"generated":{"line":1,"column":385}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"set","original":{"line":8,"column":24},"generated":{"line":1,"column":394}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":8,"column":28},"generated":{"line":1,"column":396}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"options","original":{"line":8,"column":41},"generated":{"line":1,"column":398}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":8,"column":51},"generated":{"line":1,"column":400}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"keys","original":{"line":8,"column":53},"generated":{"line":1,"column":401}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":8,"column":59},"generated":{"line":1,"column":407}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":10,"column":6},"generated":{"line":1,"column":411}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":10,"column":6},"generated":{"line":1,"column":415}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":10,"column":23},"generated":{"line":1,"column":417}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":10,"column":28},"generated":{"line":1,"column":422}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docSelectionCriteria","original":{"line":11,"column":6},"generated":{"line":1,"column":437}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":11,"column":29},"generated":{"line":1,"column":439}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docSelectionCriteria","original":{"line":11,"column":34},"generated":{"line":1,"column":444}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"currentSelectionLevel","original":{"line":12,"column":6},"generated":{"line":1,"column":465}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"selectionLevel","original":{"line":12,"column":30},"generated":{"line":1,"column":467}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":12,"column":45},"generated":{"line":1,"column":469}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":12,"column":45},"generated":{"line":1,"column":477}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":12,"column":50},"generated":{"line":1,"column":482}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":14,"column":9},"generated":{"line":1,"column":488}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":14,"column":9},"generated":{"line":1,"column":495}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"Promise","original":{"line":14,"column":13},"generated":{"line":1,"column":499}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":14,"column":21},"generated":{"line":1,"column":507}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"resolve","original":{"line":14,"column":22},"generated":{"line":1,"column":508}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"reject","original":{"line":14,"column":31},"generated":{"line":1,"column":510}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":163,"column":8},"generated":{"line":1,"column":515}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setCollection","original":{"line":17,"column":9},"generated":{"line":1,"column":518}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setCollection","original":{"line":17,"column":9},"generated":{"line":1,"column":523}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":17,"column":25},"generated":{"line":1,"column":537}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"lf","original":{"line":18,"column":11},"generated":{"line":1,"column":543}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"lf","original":{"line":18,"column":11},"generated":{"line":1,"column":548}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":18,"column":14},"generated":{"line":1,"column":551}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"clear","original":{"line":18,"column":30},"generated":{"line":1,"column":554}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"then","original":{"line":18,"column":38},"generated":{"line":1,"column":562}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":18,"column":43},"generated":{"line":1,"column":567}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":19,"column":12},"generated":{"line":1,"column":572}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"options","original":{"line":19,"column":13},"generated":{"line":1,"column":575}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"keys","original":{"line":19,"column":21},"generated":{"line":1,"column":577}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":31,"column":13},"generated":{"line":1,"column":582}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"console","original":{"line":32,"column":10},"generated":{"line":1,"column":583}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"log","original":{"line":32,"column":18},"generated":{"line":1,"column":591}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":32,"column":22},"generated":{"line":1,"column":595}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsWithoutKey","original":{"line":34,"column":14},"generated":{"line":1,"column":612}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsWithoutKey","original":{"line":34,"column":14},"generated":{"line":1,"column":616}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":34,"column":31},"generated":{"line":1,"column":618}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":35,"column":10},"generated":{"line":1,"column":620}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"forEach","original":{"line":35,"column":22},"generated":{"line":1,"column":622}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"doc","original":{"line":35,"column":30},"generated":{"line":1,"column":630}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"doc","original":{"line":36,"column":17},"generated":{"line":1,"column":634}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"hasOwnProperty","original":{"line":36,"column":21},"generated":{"line":1,"column":636}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":36,"column":36},"generated":{"line":1,"column":651}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsWithoutKey","original":{"line":37,"column":14},"generated":{"line":1,"column":660}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsWithoutKey","original":{"line":40,"column":14},"generated":{"line":1,"column":666}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"reject","original":{"line":41,"column":12},"generated":{"line":1,"column":668}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"error","original":{"line":42,"column":14},"generated":{"line":1,"column":670}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":42,"column":20},"generated":{"line":1,"column":672}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":42,"column":20},"generated":{"line":1,"column":680}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":43,"column":16},"generated":{"line":1,"column":685}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":44,"column":17},"generated":{"line":1,"column":690}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":49,"column":12},"generated":{"line":1,"column":784}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"forEach","original":{"line":49,"column":24},"generated":{"line":1,"column":786}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"doc","original":{"line":49,"column":32},"generated":{"line":1,"column":794}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"key","original":{"line":50,"column":18},"generated":{"line":1,"column":798}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"key","original":{"line":50,"column":18},"generated":{"line":1,"column":802}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"doc","original":{"line":50,"column":24},"generated":{"line":1,"column":804}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"_key","original":{"line":50,"column":28},"generated":{"line":1,"column":806}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"doc","original":{"line":51,"column":21},"generated":{"line":1,"column":818}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"_key","original":{"line":51,"column":25},"generated":{"line":1,"column":820}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"add","original":{"line":52,"column":19},"generated":{"line":1,"column":825}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"add","original":{"line":52,"column":19},"generated":{"line":1,"column":830}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"doc","original":{"line":52,"column":23},"generated":{"line":1,"column":834}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"key","original":{"line":52,"column":28},"generated":{"line":1,"column":836}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"resolve","original":{"line":54,"column":12},"generated":{"line":1,"column":841}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"success","original":{"line":55,"column":14},"generated":{"line":1,"column":843}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":55,"column":22},"generated":{"line":1,"column":845}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":55,"column":22},"generated":{"line":1,"column":853}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":56,"column":16},"generated":{"line":1,"column":858}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":57,"column":32},"generated":{"line":1,"column":878}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":57,"column":62},"generated":{"line":1,"column":893}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"length","original":{"line":57,"column":74},"generated":{"line":1,"column":895}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":58,"column":16},"generated":{"line":1,"column":914}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":20,"column":10},"generated":{"line":1,"column":924}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"forEach","original":{"line":20,"column":22},"generated":{"line":1,"column":926}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"doc","original":{"line":20,"column":30},"generated":{"line":1,"column":934}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"add","original":{"line":21,"column":17},"generated":{"line":1,"column":938}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"add","original":{"line":21,"column":17},"generated":{"line":1,"column":943}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"doc","original":{"line":21,"column":21},"generated":{"line":1,"column":947}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"resolve","original":{"line":23,"column":10},"generated":{"line":1,"column":952}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"success","original":{"line":24,"column":12},"generated":{"line":1,"column":954}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":24,"column":20},"generated":{"line":1,"column":956}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":24,"column":20},"generated":{"line":1,"column":964}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":25,"column":14},"generated":{"line":1,"column":969}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":26,"column":30},"generated":{"line":1,"column":989}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":26,"column":60},"generated":{"line":1,"column":1004}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"length","original":{"line":26,"column":72},"generated":{"line":1,"column":1006}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":27,"column":14},"generated":{"line":1,"column":1025}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"catch","original":{"line":63,"column":9},"generated":{"line":1,"column":1031}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"err","original":{"line":63,"column":15},"generated":{"line":1,"column":1037}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"reject","original":{"line":64,"column":8},"generated":{"line":1,"column":1041}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"error","original":{"line":65,"column":10},"generated":{"line":1,"column":1043}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":65,"column":16},"generated":{"line":1,"column":1045}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":65,"column":16},"generated":{"line":1,"column":1053}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":66,"column":12},"generated":{"line":1,"column":1058}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":67,"column":30},"generated":{"line":1,"column":1080}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"JSON","original":{"line":67,"column":71},"generated":{"line":1,"column":1106}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"stringify","original":{"line":67,"column":76},"generated":{"line":1,"column":1111}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":67,"column":86},"generated":{"line":1,"column":1121}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setDocument","original":{"line":74,"column":9},"generated":{"line":1,"column":1133}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setDocument","original":{"line":74,"column":9},"generated":{"line":1,"column":1138}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":74,"column":23},"generated":{"line":1,"column":1150}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setDocumentByCriteria","original":{"line":77,"column":11},"generated":{"line":1,"column":1156}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setDocumentByCriteria","original":{"line":77,"column":11},"generated":{"line":1,"column":1161}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":77,"column":35},"generated":{"line":1,"column":1183}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsToSet","original":{"line":78,"column":12},"generated":{"line":1,"column":1189}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsToSet","original":{"line":78,"column":12},"generated":{"line":1,"column":1193}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":78,"column":24},"generated":{"line":1,"column":1195}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"lf","original":{"line":79,"column":13},"generated":{"line":1,"column":1198}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"lf","original":{"line":79,"column":13},"generated":{"line":1,"column":1203}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":79,"column":16},"generated":{"line":1,"column":1206}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"iterate","original":{"line":79,"column":32},"generated":{"line":1,"column":1209}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":79,"column":40},"generated":{"line":1,"column":1217}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"value","original":{"line":79,"column":41},"generated":{"line":1,"column":1218}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"key","original":{"line":79,"column":48},"generated":{"line":1,"column":1220}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":80,"column":14},"generated":{"line":1,"column":1226}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"value","original":{"line":80,"column":23},"generated":{"line":1,"column":1228}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"value","original":{"line":80,"column":23},"generated":{"line":1,"column":1230}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"value","original":{"line":80,"column":23},"generated":{"line":1,"column":1239}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docSelectionCriteria","original":{"line":80,"column":30},"generated":{"line":1,"column":1241}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsToSet","original":{"line":81,"column":12},"generated":{"line":1,"column":1245}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"push","original":{"line":81,"column":22},"generated":{"line":1,"column":1247}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":81,"column":27},"generated":{"line":1,"column":1252}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"key","original":{"line":81,"column":29},"generated":{"line":1,"column":1253}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"key","original":{"line":81,"column":29},"generated":{"line":1,"column":1257}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":81,"column":34},"generated":{"line":1,"column":1259}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":81,"column":34},"generated":{"line":1,"column":1271}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"then","original":{"line":83,"column":11},"generated":{"line":1,"column":1277}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":83,"column":16},"generated":{"line":1,"column":1282}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsToSet","original":{"line":84,"column":15},"generated":{"line":1,"column":1287}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"length","original":{"line":84,"column":25},"generated":{"line":1,"column":1289}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"reject","original":{"line":85,"column":12},"generated":{"line":1,"column":1297}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"error","original":{"line":86,"column":14},"generated":{"line":1,"column":1299}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":86,"column":20},"generated":{"line":1,"column":1301}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":86,"column":20},"generated":{"line":1,"column":1309}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":87,"column":16},"generated":{"line":1,"column":1314}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":88,"column":42},"generated":{"line":1,"column":1344}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"JSON","original":{"line":88,"column":87},"generated":{"line":1,"column":1374}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"stringify","original":{"line":88,"column":92},"generated":{"line":1,"column":1379}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docSelectionCriteria","original":{"line":88,"column":102},"generated":{"line":1,"column":1389}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsToSet","original":{"line":92,"column":14},"generated":{"line":1,"column":1397}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"length","original":{"line":92,"column":24},"generated":{"line":1,"column":1399}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":92,"column":33},"generated":{"line":1,"column":1406}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"warn","original":{"line":93,"column":19},"generated":{"line":1,"column":1409}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"warn","original":{"line":93,"column":19},"generated":{"line":1,"column":1411}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"warn","original":{"line":93,"column":19},"generated":{"line":1,"column":1419}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":93,"column":24},"generated":{"line":1,"column":1424}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":93,"column":29},"generated":{"line":1,"column":1429}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsToSet","original":{"line":93,"column":59},"generated":{"line":1,"column":1457}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"length","original":{"line":93,"column":69},"generated":{"line":1,"column":1459}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"JSON","original":{"line":93,"column":87},"generated":{"line":1,"column":1475}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"stringify","original":{"line":93,"column":92},"generated":{"line":1,"column":1480}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docSelectionCriteria","original":{"line":93,"column":102},"generated":{"line":1,"column":1490}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"then","original":{"line":95,"column":11},"generated":{"line":1,"column":1517}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":95,"column":16},"generated":{"line":1,"column":1522}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsToSet","original":{"line":96,"column":10},"generated":{"line":1,"column":1527}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"forEach","original":{"line":96,"column":20},"generated":{"line":1,"column":1529}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":96,"column":28},"generated":{"line":1,"column":1537}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docToSet","original":{"line":96,"column":29},"generated":{"line":1,"column":1538}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"index","original":{"line":96,"column":39},"generated":{"line":1,"column":1540}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"lf","original":{"line":97,"column":17},"generated":{"line":1,"column":1545}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"lf","original":{"line":97,"column":17},"generated":{"line":1,"column":1550}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":97,"column":20},"generated":{"line":1,"column":1553}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setItem","original":{"line":97,"column":36},"generated":{"line":1,"column":1556}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docToSet","original":{"line":97,"column":44},"generated":{"line":1,"column":1564}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"key","original":{"line":97,"column":53},"generated":{"line":1,"column":1566}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docToSet","original":{"line":97,"column":58},"generated":{"line":1,"column":1570}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":97,"column":67},"generated":{"line":1,"column":1572}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"then","original":{"line":97,"column":80},"generated":{"line":1,"column":1585}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"value","original":{"line":97,"column":85},"generated":{"line":1,"column":1590}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"index","original":{"line":99,"column":18},"generated":{"line":1,"column":1594}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsToSet","original":{"line":99,"column":29},"generated":{"line":1,"column":1598}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"length","original":{"line":99,"column":39},"generated":{"line":1,"column":1600}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":99,"column":48},"generated":{"line":1,"column":1607}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"resolve","original":{"line":100,"column":16},"generated":{"line":1,"column":1610}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"success","original":{"line":101,"column":18},"generated":{"line":1,"column":1612}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":101,"column":26},"generated":{"line":1,"column":1614}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":101,"column":26},"generated":{"line":1,"column":1622}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":102,"column":20},"generated":{"line":1,"column":1627}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsToSet","original":{"line":103,"column":24},"generated":{"line":1,"column":1635}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"length","original":{"line":103,"column":34},"generated":{"line":1,"column":1637}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsToSet","original":{"line":103,"column":54},"generated":{"line":1,"column":1655}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"length","original":{"line":103,"column":64},"generated":{"line":1,"column":1657}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":103,"column":73},"generated":{"line":1,"column":1664}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":103,"column":77},"generated":{"line":1,"column":1666}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":103,"column":83},"generated":{"line":1,"column":1670}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":103,"column":95},"generated":{"line":1,"column":1680}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"JSON","original":{"line":103,"column":132},"generated":{"line":1,"column":1702}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"stringify","original":{"line":103,"column":137},"generated":{"line":1,"column":1707}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docSelectionCriteria","original":{"line":103,"column":147},"generated":{"line":1,"column":1717}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":104,"column":20},"generated":{"line":1,"column":1730}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"catch","original":{"line":108,"column":15},"generated":{"line":1,"column":1736}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"err","original":{"line":108,"column":21},"generated":{"line":1,"column":1742}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"reject","original":{"line":109,"column":14},"generated":{"line":1,"column":1746}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"error","original":{"line":110,"column":16},"generated":{"line":1,"column":1748}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":110,"column":22},"generated":{"line":1,"column":1750}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":110,"column":22},"generated":{"line":1,"column":1758}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":111,"column":18},"generated":{"line":1,"column":1763}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docsToSet","original":{"line":112,"column":36},"generated":{"line":1,"column":1785}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"length","original":{"line":112,"column":46},"generated":{"line":1,"column":1787}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":112,"column":71},"generated":{"line":1,"column":1810}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setDocumentByKey","original":{"line":121,"column":11},"generated":{"line":1,"column":1836}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setDocumentByKey","original":{"line":121,"column":11},"generated":{"line":1,"column":1841}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":121,"column":30},"generated":{"line":1,"column":1858}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"lf","original":{"line":122,"column":13},"generated":{"line":1,"column":1864}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"lf","original":{"line":122,"column":13},"generated":{"line":1,"column":1869}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":122,"column":16},"generated":{"line":1,"column":1872}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setItem","original":{"line":122,"column":32},"generated":{"line":1,"column":1875}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docSelectionCriteria","original":{"line":122,"column":40},"generated":{"line":1,"column":1883}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":122,"column":62},"generated":{"line":1,"column":1885}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"then","original":{"line":122,"column":75},"generated":{"line":1,"column":1888}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"value","original":{"line":122,"column":80},"generated":{"line":1,"column":1893}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"resolve","original":{"line":123,"column":10},"generated":{"line":1,"column":1897}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"success","original":{"line":124,"column":12},"generated":{"line":1,"column":1899}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":124,"column":20},"generated":{"line":1,"column":1901}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":124,"column":20},"generated":{"line":1,"column":1909}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":125,"column":14},"generated":{"line":1,"column":1914}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":126,"column":31},"generated":{"line":1,"column":1935}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"JSON","original":{"line":126,"column":72},"generated":{"line":1,"column":1961}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"stringify","original":{"line":126,"column":77},"generated":{"line":1,"column":1966}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docSelectionCriteria","original":{"line":126,"column":87},"generated":{"line":1,"column":1976}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":127,"column":14},"generated":{"line":1,"column":1989}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"catch","original":{"line":130,"column":11},"generated":{"line":1,"column":1995}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"err","original":{"line":130,"column":17},"generated":{"line":1,"column":2001}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"reject","original":{"line":131,"column":10},"generated":{"line":1,"column":2005}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"error","original":{"line":132,"column":12},"generated":{"line":1,"column":2007}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":132,"column":18},"generated":{"line":1,"column":2009}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":132,"column":18},"generated":{"line":1,"column":2017}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":133,"column":14},"generated":{"line":1,"column":2022}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"collectionName","original":{"line":134,"column":31},"generated":{"line":1,"column":2043}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"JSON","original":{"line":134,"column":72},"generated":{"line":1,"column":2069}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"stringify","original":{"line":134,"column":77},"generated":{"line":1,"column":2074}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docSelectionCriteria","original":{"line":134,"column":87},"generated":{"line":1,"column":2084}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":140,"column":41},"generated":{"line":1,"column":2113}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"docSelectionCriteria","original":{"line":140,"column":17},"generated":{"line":1,"column":2130}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":141,"column":15},"generated":{"line":1,"column":2132}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setDocumentByCriteria","original":{"line":141,"column":20},"generated":{"line":1,"column":2137}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":144,"column":15},"generated":{"line":1,"column":2161}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setDocumentByKey","original":{"line":144,"column":20},"generated":{"line":1,"column":2166}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":149,"column":9},"generated":{"line":1,"column":2187}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":152,"column":39},"generated":{"line":1,"column":2189}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"currentSelectionLevel","original":{"line":152,"column":13},"generated":{"line":1,"column":2197}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":153,"column":34},"generated":{"line":1,"column":2199}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":153,"column":19},"generated":{"line":1,"column":2216}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":153,"column":46},"generated":{"line":1,"column":2219}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"Array","original":{"line":153,"column":69},"generated":{"line":1,"column":2232}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":153,"column":78},"generated":{"line":1,"column":2239}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"userErrors","original":{"line":154,"column":13},"generated":{"line":1,"column":2242}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"userErrors","original":{"line":154,"column":13},"generated":{"line":1,"column":2247}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"push","original":{"line":154,"column":24},"generated":{"line":1,"column":2258}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":154,"column":29},"generated":{"line":1,"column":2263}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":157,"column":39},"generated":{"line":1,"column":2348}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"currentSelectionLevel","original":{"line":157,"column":13},"generated":{"line":1,"column":2363}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":158,"column":34},"generated":{"line":1,"column":2367}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":158,"column":19},"generated":{"line":1,"column":2384}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"newDocument","original":{"line":158,"column":46},"generated":{"line":1,"column":2387}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"Array","original":{"line":158,"column":69},"generated":{"line":1,"column":2400}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":158,"column":78},"generated":{"line":1,"column":2407}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"userErrors","original":{"line":159,"column":13},"generated":{"line":1,"column":2410}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"userErrors","original":{"line":159,"column":13},"generated":{"line":1,"column":2415}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"push","original":{"line":159,"column":24},"generated":{"line":1,"column":2426}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":159,"column":29},"generated":{"line":1,"column":2431}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"userErrors","original":{"line":150,"column":11},"generated":{"line":1,"column":2528}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"userErrors","original":{"line":150,"column":11},"generated":{"line":1,"column":2533}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"push","original":{"line":150,"column":22},"generated":{"line":1,"column":2544}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":150,"column":27},"generated":{"line":1,"column":2549}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":163,"column":9},"generated":{"line":1,"column":2653}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"userErrors","original":{"line":163,"column":14},"generated":{"line":1,"column":2658}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"length","original":{"line":163,"column":25},"generated":{"line":1,"column":2669}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":172,"column":21},"generated":{"line":1,"column":2676}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":172,"column":21},"generated":{"line":1,"column":2678}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"call","original":{"line":172,"column":21},"generated":{"line":1,"column":2686}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":172,"column":26},"generated":{"line":1,"column":2691}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":163,"column":33},"generated":{"line":1,"column":2701}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"currentSelectionLevel","original":{"line":164,"column":10},"generated":{"line":1,"column":2702}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":164,"column":35},"generated":{"line":1,"column":2705}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"currentSelectionLevel","original":{"line":164,"column":10},"generated":{"line":1,"column":2719}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":165,"column":15},"generated":{"line":1,"column":2721}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":165,"column":15},"generated":{"line":1,"column":2728}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setCollection","original":{"line":165,"column":20},"generated":{"line":1,"column":2733}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":167,"column":11},"generated":{"line":1,"column":2749}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":167,"column":40},"generated":{"line":1,"column":2752}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"currentSelectionLevel","original":{"line":167,"column":15},"generated":{"line":1,"column":2759}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":168,"column":15},"generated":{"line":1,"column":2761}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","original":{"line":168,"column":15},"generated":{"line":1,"column":2768}},{"source":"../node_modules/localbase/localbase/api/actions/set.js","name":"setDocument","original":{"line":168,"column":20},"generated":{"line":1,"column":2773}}],"sources":{"../node_modules/localbase/localbase/api/actions/set.js":"import logger from '../../utils/logger'\nimport isSubset from '../../utils/isSubset'\nimport success from '../../api-utils/success'\nimport error from '../../api-utils/error'\nimport showUserErrors from '../../api-utils/showUserErrors'\nimport selectionLevel from '../../api-utils/selectionLevel'\n\nexport default function set(newDocument, options = { keys: false }) {\n\n  let collectionName = this.collectionName\n  let docSelectionCriteria = this.docSelectionCriteria\n  let currentSelectionLevel = selectionLevel.call(this)\n\n  return new Promise((resolve, reject) => {\n\n    // set collection\n    this.setCollection = () => {\n      this.lf[collectionName].clear().then(() => {\n        if (!options.keys) {\n          newDocument.forEach(doc => {\n            this.add(doc)\n          })\n          resolve(\n            success.call(\n              this,\n              `Collection \"${ collectionName }\" set with ${ newDocument.length } Documents`, \n              newDocument\n            )\n          )\n        }\n        else {\n          console.log('keys provided')\n          // check that every document in array has a _key property\n          let docsWithoutKey = 0\n          newDocument.forEach(doc => {\n            if (!doc.hasOwnProperty('_key')) {\n              docsWithoutKey++\n            }\n          })\n          if (docsWithoutKey) {\n            reject(\n              error.call(\n                this,\n                `Documents provided to .set() in an array must each have a _key property set to a string.`\n              )\n            )\n          }\n          else {\n            newDocument.forEach(doc => {\n              let key = doc._key\n              delete doc._key\n              this.add(doc, key)\n            })\n            resolve(\n              success.call(\n                this,\n                `Collection \"${ collectionName }\" set with ${ newDocument.length } Documents`, \n                newDocument\n              )\n            )\n          }\n        }\n      }).catch(err => {\n        reject(\n          error.call(\n            this,\n            `Could not set ${ collectionName } Collection with data ${ JSON.stringify(newDocument) }.`\n          )\n        )\n      });\n    }\n\n    // set document\n    this.setDocument = () => {\n      \n      // set document by criteria\n      this.setDocumentByCriteria = () => {\n        let docsToSet = []\n        this.lf[collectionName].iterate((value, key) => {\n          if (isSubset(value, docSelectionCriteria)) {\n            docsToSet.push({ key, newDocument })\n          }\n        }).then(() => {\n          if (!docsToSet.length) {\n            reject(\n              error.call(\n                this,\n                `No Documents found in ${ collectionName } Collection with criteria ${ JSON.stringify(docSelectionCriteria) }.`\n              )\n            )\n          }\n          if (docsToSet.length > 1) {\n            logger.warn.call(this, `Multiple documents (${ docsToSet.length }) with ${ JSON.stringify(docSelectionCriteria) } found for setting.`)\n          }\n        }).then(() => {\n          docsToSet.forEach((docToSet, index) => {\n            this.lf[collectionName].setItem(docToSet.key, docToSet.newDocument).then(value => {\n  \n              if (index === (docsToSet.length - 1)) {\n                resolve(\n                  success.call(\n                    this,\n                    `${ docsToSet.length } Document${ docsToSet.length > 1 ? 's' : '' } in \"${ collectionName }\" collection with ${ JSON.stringify(docSelectionCriteria) } set to:`, \n                    newDocument\n                  )\n                )\n              }\n            }).catch(err => {\n              reject(\n                error.call(\n                  this,\n                  `Could not set ${ docsToSet.length } Documents in ${ collectionName } Collection.`\n                )\n              )\n            })\n          })\n        })\n      }\n  \n      // set document by key\n      this.setDocumentByKey = () => {\n        this.lf[collectionName].setItem(docSelectionCriteria, newDocument).then(value => {\n          resolve(\n            success.call(\n              this,\n              `Document in \"${ collectionName }\" collection with key ${ JSON.stringify(docSelectionCriteria) } set to:`,\n              newDocument\n            )\n          )\n        }).catch(err => {\n          reject(\n            error.call(\n              this,\n              `Document in \"${ collectionName }\" collection with key ${ JSON.stringify(docSelectionCriteria) } could not be set.`\n            )\n          )\n        })\n      }\n\n      if (typeof docSelectionCriteria == 'object') {\n        return this.setDocumentByCriteria()\n      }\n      else {\n        return this.setDocumentByKey()\n      }\n    }\n\n    // check for user errors\n    if (!newDocument) {\n      this.userErrors.push('No new Document object provided to set() method. Use an object e.g. { id: 1, name: \"Bill\", age: 47 }')\n    }\n    else if (currentSelectionLevel === 'doc') {\n      if (!(typeof newDocument == 'object' && newDocument instanceof Array == false)) {\n        this.userErrors.push('Data passed to .set() must be an object. Not an array, string, number or boolean.')\n      }\n    }\n    else if (currentSelectionLevel === 'collection') {\n      if (!(typeof newDocument == 'object' && newDocument instanceof Array == true)) {\n        this.userErrors.push('Data passed to .set() must be an array of objects. Not an object, string, number or boolean.')\n      }\n    }\n\n    if (!this.userErrors.length) {\n      if (currentSelectionLevel == 'collection') {\n        return this.setCollection()\n      }\n      else if (currentSelectionLevel == 'doc') {\n        return this.setDocument()\n      }\n    }\n    else {\n      showUserErrors.call(this)\n    }\n\n  })\n}"},"lineCount":null}},"error":null,"hash":"f313d575e2b23ea4449a0498b5d33b77","cacheData":{"env":{}}}