<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
    <!-- CODEMIROR STYLES -->
    <link rel="stylesheet" href="../node_modules/codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="../src/theme/dracula.css">
    <link rel="stylesheet" href="../node_modules/codemirror/addon/hint/show-hint.css">
    <link rel="stylesheet" href="../node_modules/codemirror/addon/search/matchesonscrollbar.css">
    <link rel="stylesheet" href="../node_modules/codemirror/addon/lint/lint.css">
    <link rel="shortcut icon" href="../src/img/favicon.png">
    <link rel="apple-touch-icon" href="../src/img/favicon.png" />
    <meta name="theme-color" content="#000000" />
    <link rel="manifest" href="../src/manifest.webmanifest" />
    <title>JsPad</title>
</head>
<body class="default-theme">
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <!-- Header -->
    <div id="header"></div>

    <!-- Main -->
    <main id="main">
            <div id="code" class="shadow-sm"></div>

            <div class="screen" data-screen>
                <div id="console" class="shadow-sm"></div>
                <div id="preview" class="shadow-sm"></div>
            </div>
    </main>


    <!-- FOOTER -->
    <div id="footer"></div>

    <!-- SideNav -->
    <div class="sidenav-container d-none" data-sidenav-container></div>

    <!-- JS FILES -->
    <script src="https://unpkg.com/jshint@2.9.6/dist/jshint.js"></script>
    <script src="https://unpkg.com/csslint@1.0.5/dist/csslint.js"></script>

    <script src="../src/app.js"></script>

    <script>
        const sw = 'service-worker.js'; // it is needed because parcel will not recognize this as a file and not precess in its manner
  
        navigator.serviceWorker
          .register(sw)
          .then(registration => {
            registration.onupdatefound = () => {
              const installingWorker = registration.installing;
              if (installingWorker == null) {
                return;
              }
              installingWorker.onstatechange = () => {
                if (installingWorker.state === 'installed') {
                  if (navigator.serviceWorker.controller) {
                    // At this point, the updated precached content has been fetched,
                    // but the previous service worker will still serve the older
                    // content until all client tabs are closed.
                    console.log(
                      'New content is available and will be used when all ' +
                      'tabs for this page are closed. See https://bit.ly/CRA-PWA.'
                    );
                  } else {
                    // At this point, everything has been precached.
                    // It's the perfect time to display a
                    // "Content is cached for offline use." message.
                    console.log('Content is cached for offline use.');
                  }
                }
              };
            };
          })
          .catch(error => {
            console.error('Error during service worker registration:', error);
          });
      </script>
</body>
</html>